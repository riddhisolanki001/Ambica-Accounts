[
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Purchase Invoice",
  "enabled": 1,
  "modified": "2023-11-07 18:45:33.511107",
  "module": "Ambika Accounts",
  "name": "Payment Terms Due Date Chane in Pi",
  "script": "frappe.ui.form.on('Purchase Invoice', {\n\tsupplier_name(frm) {\n\t    var supplier = frm.doc.supplier\n\t    frappe.db.get_list('Supplier',{\n\t        fields:['payment_terms'],\n\t        filters:{\n\t            name:supplier\n\t        }\n\t       \n\t    }).then(rec => {\n\t        for (var d in rec){\n\t            var payment_term = rec[d].payment_terms\n\t        }\n\t        console.log(payment_term)\n\t        frappe.db.get_list('Payment Terms Template',{\n\t            fields:['due_date_based_on'],\n\t            filters:{\n\t                name:payment_term\n\t            }\n\t        }).then(records => {\n\t        for (var de in records){\n\t            var based_on = records[d].due_date_based_on\n\t        }\n\t        console.log(based_on)\n\t        })\n\t        \n\t        \n\t    })\n\t\t// your code here\n\t}\n})",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Payment Entry",
  "enabled": 1,
  "modified": "2023-11-08 12:26:59.119303",
  "module": "Ambika Accounts",
  "name": "Dialog Box",
  "script": "frappe.ui.form.on('Payment Entry', {\n    onload: function(frm) {\n        frm.add_custom_button(__('Purchase Order'), function() {\n            var d = new frappe.ui.form.MultiSelectDialog({\n                doctype: \"Purchase Order\",\n                target: frm,\n                setters: {\n                    supplier_name: null,\n                    schedule_date: null\n                },\n                action(selections, args) {\n                    // Extract the selected Purchase Order names\n                    var selectedPurchaseOrders = selections.map(item => `${item.name} (Supplier: ${item.supplier_name})`);\n                    console.log(selectedPurchaseOrders);\n                    frappe.msgprint(\"Selected Purchase Orders: \" + selectedPurchaseOrders.join(', '));\n                    // Make an HTTP request to the server script\n                    frappe.call({\n                        method: 'API',\n                        args: {\n                            selected_purchase_orders: selections\n                        },\n                        callback: function(response) {\n                            if (!response.exc) {\n                                // Successfully received a response from the server\n                                frappe.msgprint(response.message);\n                            }\n                        }\n                    });\n                }\n            });\n            d.show();\n        }, __(\"Get Items From\"));\n    }\n});\n",
  "view": "Form"
 }
]